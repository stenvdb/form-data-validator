{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./config.js","webpack:///./formDataValidator.js"],"names":["config","scrollToFirstError","parentSelector","errorClass","customTypes","rules","FormDataValidator","selector","options","Array","prototype","slice","call","document","querySelectorAll","forEach","form","validateForm","getAllForms","el","Object","assign","defaultConfig","console","log","querySelector","noValidate","isValid","getErrors","addEventListener","event","preventDefault","window","scrollTo","getBoundingClientRect","top","errors","field","validateField","validityErrors","rule","validity","error","id","push","formvalid","willValidate","nodeName","type","getAttribute","checkValidity","valid","pattern","Element","matches","msMatchesSelector","removeError","errorText","getError","showError","kebabRule","replace","match","toLowerCase","parent","closest","classList","add","label","remove"],"mappings":"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","file":"app.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"pK4p\");\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","const config = {\n  scrollToFirstError: true,\n  parentSelector: 'div',\n  errorClass: 'error',\n  customTypes: [],\n  rules: []\n};\n\nexport default config;\n","import defaultConfig from './config';\n\nexport default class FormDataValidator {\n  static getAllForms(selector, options = {}) {\n    Array.prototype.slice.call(document.querySelectorAll(selector)).forEach((form) => {\n      FormDataValidator.validateForm(form, options);\n    });\n  }\n\n  static validateAllForms(selector = 'form', options = {}) {\n    FormDataValidator.getAllForms(selector, options);\n  }\n\n  static validateForm(el, options = {}) {\n    const config = Object.assign(defaultConfig, options);\n    console.log(config);\n\n    let form = el;\n    if (typeof form === 'string') {\n      form = document.querySelector(el);\n    }\n\n    form.noValidate = true;\n\n    form.isValid = () => this.isValid(form, config);\n    form.getErrors = () => this.getErrors(form, config);\n\n    form.addEventListener('submit', (event) => {\n      const isValid = this.isValid(form, config);\n      if (!isValid) {\n        event.preventDefault();\n\n        if (config.scrollToFirstError) window.scrollTo(0, form.querySelector('.error').getBoundingClientRect().top);\n      }\n    });\n  }\n\n  static getErrors(form, options = {}) {\n    const errors = [];\n\n    if (form.isValid()) return [];\n\n    Array.prototype.slice.call(form.querySelectorAll('input:not([type=\"hidden\"]),select,textarea')).forEach((field) => {\n      if (!FormDataValidator.validateField(field, options, form)) {\n        // Filter out only the ones that are true\n        const validityErrors = {};\n        for (const rule in field.validity) {\n          if (field.validity[rule]) {\n            validityErrors[rule] = field.validity[rule];\n          }\n        }\n\n        const error = {\n          id: field.id,\n          validityErrors\n        };\n\n        errors.push(error);\n      }\n    });\n\n    return errors;\n  }\n\n  static isValid(form, options = {}) {\n    let formvalid = true;\n\n    console.log(options);\n\n    Array.prototype.slice.call(form.querySelectorAll('input:not([type=\"hidden\"]),select,textarea')).forEach((field) => {\n      formvalid = !FormDataValidator.validateField(field, options, form) ? false : formvalid;\n\n      field.addEventListener('blur', () => {\n        formvalid = !FormDataValidator\n          .validateField(field, options, form) ? false : formvalid;\n      });\n      field.addEventListener('change', () => {\n        formvalid = !FormDataValidator\n          .validateField(field, options, form) ? false : formvalid;\n      });\n    });\n\n    return formvalid;\n  }\n\n  static validateField(field, options, form) {\n    let isValid = true;\n\n    // First check native html 5 validation\n    if (typeof field.willValidate !== 'undefined') {\n      if (field.nodeName === 'INPUT' && field.type !== field.getAttribute('type')) {\n        // input type not supported! Use legacy JavaScript validation\n      }\n      field.checkValidity();\n    } else {\n      // native validation not available\n    }\n\n    if (!field.validity.valid) {\n      isValid = false;\n    }\n\n    // Loop over custom methods to override browser default check\n    if (typeof options.customTypes !== 'undefined') {\n      options.customTypes.forEach((pattern) => {\n        if (field.getAttribute('type') === pattern.type) {\n          isValid = !pattern.rule(field) ? false : isValid;\n        }\n        return isValid;\n      });\n    }\n\n    // Loop over custom rules to override browser default check\n    if (typeof options.rules !== 'undefined') {\n      options.rules.forEach((pattern) => {\n        // Support for ie11\n        if (!Element.prototype.matches) {\n          Element.prototype.matches = Element.prototype.msMatchesSelector;\n        }\n        if (field.matches(pattern.field)) {\n          isValid = !pattern.rule(field) ? false : isValid;\n        }\n        return isValid;\n      });\n    }\n\n    if (isValid) {\n      FormDataValidator.removeError(field, form, options);\n    } else {\n      // Loop over the errors and get the first one\n      const errorText = FormDataValidator.getError(field);\n      FormDataValidator.showError(field, form, options);\n    }\n\n    return isValid;\n  }\n\n  static getError(field) {\n    // Loop over the errors and get the first one\n    let errorText = '';\n    for (const rule in field.validity) {\n      if (field.validity[rule]) {\n        const kebabRule = rule.replace(/[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE]/g, match => `- ${match.toLowerCase()}`);\n        errorText = field.getAttribute(`data-${kebabRule}`);\n        break;\n      }\n    }\n    return errorText;\n  }\n\n  static showError(field, form, options) {\n    const parent = field.closest(options.parentSelector);\n\n    parent.classList.add(options.errorClass);\n\n    const label = form.querySelector(`label[for=${field.id}]:not(:empty)`);\n    if (label != null) label.classList.add(options.errorClass);\n  }\n\n  static removeError(field, form, options) {\n    const parent = field.closest(options.parentSelector);\n    parent.classList.remove(options.errorClass);\n\n    const label = form.querySelector(`label[for=${field.id}]:not(:empty)`);\n    if (label != null) label.classList.remove(options.errorClass);\n  }\n}\n"],"sourceRoot":""}